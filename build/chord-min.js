!function(){return function t(n,r,e){function i(o,a){if(!r[o]){if(!n[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var h=r[o]={exports:{}};n[o][0].call(h.exports,function(t){return i(n[o][1][t]||t)},h,h.exports,t,n,r,e)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<e.length;o++)i(e[o]);return i}}()({1:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"makeIdEnding",{enumerable:!0,get:function(){return s.makeIdEnding}}),r.AttrGetter=void 0;var e=t("./style.constant"),i=t("./chord-list.constant"),s=t("./common-tools");function o(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function a(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var c=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.componentRef=n}var n,r,c;return n=t,(r=[{key:"getChords",value:function(){return this.componentRef.getAttribute("chords")}},{key:"getSizeAttr",value:function(){return this.componentRef.getAttribute("size")}},{key:"getThemeAttr",value:function(){return this.componentRef.getAttribute("theme")}},{key:"getReflectAttr",value:function(){return this.componentRef.getAttribute("reflect")}},{key:"resolveReflectAttr",value:function(){var t={horizontal:!1,vertical:!1},n=this.getReflectAttr()&&this.getReflectAttr().length?this.getReflectAttr().toLowerCase().split(/\s+|[,.]+/):"";return n&&n.map(function(n){"horizontal"!=n&&"x"!=n||(t.horizontal=!0),"vertical"!=n&&"y"!=n||(t.vertical=!0)}),t}},{key:"resolveTheme",value:function(){return this.getThemeAttr()&&"dark"==this.getThemeAttr().toLowerCase()?"dark":"light"}},{key:"resolveSize",value:function(){var t=this.getSizeAttr(),n=parseFloat(""+t);e.sizeList.medium;return isNaN(n)?e.sizeList[t]?e.sizeList[t]:e.sizeList.medium:n}},{key:"resolveCurrentChord",value:function(){var t=this;return this.getChords()?i.chordList.find(function(n){return n.name.toUpperCase()==t.getChords().toUpperCase()}):""}},{key:"resolveChordNamesArray",value:function(){var t=this.getChords(),n=[];return t&&t.split(/\s+|[,.]+/).map(function(t){i.chordList.find(function(n){return n.name.toLowerCase()==t.toLowerCase()})&&n.push(t.toLowerCase())}),n}},{key:"resolveChordArray",value:function(){var t=[];return this.resolveChordNamesArray().map(function(n){i.chordList.map(function(r){r.name.toLowerCase()==n&&t.push(function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},e=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.forEach(function(n){o(t,n,r[n])})}return t}({},r,{componentCanvasId:"chord-".concat((0,s.makeIdEnding)())}))})}),t}}])&&a(n.prototype,r),c&&a(n,c),t}();r.AttrGetter=c},{"./chord-list.constant":3,"./common-tools":5,"./style.constant":7}],2:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CanvasDrawTool=void 0;var e=t("./style.constant");function i(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var s=function(){function t(n,r,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.chordData=r,this.canvas={};var i={defaults:{canvasWidth:390,canvasHeight:140,rowWidth:30,stringHeight:20},ref:n,canvasSettings:{},customAttributes:e};i.canvasSettings={canvasHeight:i.defaults.canvasHeight*e.size,canvasWidth:i.defaults.canvasWidth*e.size,rowWidth:i.defaults.rowWidth*e.size,stringHeight:i.defaults.stringHeight*e.size},this.canvas=i,this.canvas.canvasSettings.canvasWidth=this.calculateCanvasSize(this.findBorders())}var n,r,s;return n=t,(r=[{key:"draw",value:function(){this.updateCanvasSize(),this.drawChord(),this.resolveChordReflection()}},{key:"updateCanvasSize",value:function(){this.canvas.ref.canvas.setAttribute("height",this.canvas.canvasSettings.canvasHeight),this.canvas.ref.canvas.setAttribute("width",this.canvas.canvasSettings.canvasWidth)}},{key:"drawBasis",value:function(){this.drawRectangle(e.styleConstants.colors.basisColor[this.canvas.customAttributes.theme],0,0,this.canvas.canvasSettings.canvasHeight,this.canvas.canvasSettings.canvasWidth);for(var t=1;t<=12;t++)this.drawALine(e.styleConstants.colors.rowDividerColor[this.canvas.customAttributes.theme],t*this.canvas.canvasSettings.rowWidth,0,t*this.canvas.canvasSettings.rowWidth,this.canvas.canvasSettings.canvasHeight);for(var n=0;n<=6;n++)this.drawALine(e.styleConstants.colors.stringsColor[this.canvas.customAttributes.theme],0,n*this.canvas.canvasSettings.stringHeight,this.canvas.canvasSettings.canvasWidth,n*this.canvas.canvasSettings.stringHeight)}},{key:"drawRectangle",value:function(t,n,r,e,i){var s=this.canvas.ref.ctx;s&&(s.fillStyle=t,s.fillRect(r,n,i,e))}},{key:"drawChord",value:function(){var t=this,n=this.canvas.canvasSettings.stringHeight,r=[],i=e.styleConstants.colors.circleColor[this.canvas.customAttributes.theme];for(var s in this.drawBasis(),this.chordData.structure.strings)this.chordData.structure.strings.hasOwnProperty(s)&&(this.chordData.structure.strings[s].forEach(function(e){r.push(e),t.drawCircle(5*t.canvas.customAttributes.size,i,i,t.calculateElementHorizontalPosition(e),n)}),n+=this.canvas.canvasSettings.stringHeight);6===r.filter(function(n){return n===t.chordData.startString}).length&&this.drawBare()}},{key:"findBorders",value:function(){var t=this.chordData.structure.strings,n=1,r=12;for(var e in t)t.hasOwnProperty(e)&&(n=Math.max.apply(null,t[e])>n?Math.max.apply(null,t[e]):n,r=Math.min.apply(null,t[e])<r?Math.min.apply(null,t[e]):r);return n-this.chordData.startString<2?n+1:n}},{key:"calculateElementHorizontalPosition",value:function(t){var n=t-this.chordData.startString,r=this.canvas.canvasSettings.rowWidth;return this.canvas.canvasSettings.canvasWidth-n*r-.5*r}},{key:"calculateCanvasSize",value:function(t){return(1+t-this.chordData.startString)*this.canvas.canvasSettings.rowWidth}},{key:"drawCircle",value:function(t,n,r,e,i){var s=this.canvas.ref.ctx;s&&(s.strokeStyle=n,s.fillStyle=r,s.beginPath(),s.arc(e,i,t,0,2*Math.PI),s.stroke(),s.fill())}},{key:"drawALine",value:function(t,n,r,e,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=this.canvas.ref.ctx;o&&(o.strokeStyle=t,o.beginPath(),o.moveTo(n,r),o.lineTo(e,i),o.lineWidth=s||1,o.stroke())}},{key:"drawBare",value:function(){var t=this.calculateElementHorizontalPosition(this.chordData.startString);this.drawALine(e.styleConstants.colors.circleColor[this.canvas.customAttributes.theme],t,5*this.canvas.customAttributes.size,t,this.canvas.canvasSettings.canvasHeight-5,15*this.canvas.customAttributes.size)}},{key:"resolveChordReflection",value:function(){var t="; transform: scale(".concat(this.canvas.customAttributes.reflection.horizontal?-1:1,",").concat(this.canvas.customAttributes.reflection.vertical?-1:1,")");this.canvas.ref.canvas.style+=t}}])&&i(n.prototype,r),s&&i(n,s),t}();r.CanvasDrawTool=s},{"./style.constant":7}],3:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.chordList=void 0;r.chordList=[{id:"1",name:"F",startString:1,structure:{strings:{sixthString:[1],fifthString:[1,3],fourthString:[1,3],thirdString:[1,2],secondStrind:[1],firstString:[1]}}},{id:"2",name:"F7",startString:1,structure:{strings:{sixthString:[1],fifthString:[1,3],fourthString:[1],thirdString:[1,2],secondStrind:[1],firstString:[1]}}},{id:"3",name:"Fm",startString:1,structure:{strings:{sixthString:[1],fifthString:[1,3],fourthString:[1,3],thirdString:[1],secondStrind:[1],firstString:[1]}}},{id:"4",name:"C",startString:1,structure:{strings:{sixthString:[],fifthString:[3],fourthString:[2],thirdString:[],secondStrind:[1],firstString:[]}}},{id:"5",name:"C7",startString:1,structure:{strings:{sixthString:[],fifthString:[3],fourthString:[2],thirdString:[3],secondStrind:[1],firstString:[]}}},{id:"6",name:"Cm",startString:2,structure:{strings:{sixthString:[2],fifthString:[2],fourthString:[2,4],thirdString:[2,4],secondStrind:[2,3],firstString:[2]}}},{id:"7",name:"D",startString:1,structure:{strings:{sixthString:[],fifthString:[],fourthString:[],thirdString:[2],secondStrind:[3],firstString:[2]}}},{id:"8",name:"D7",startString:1,structure:{strings:{sixthString:[],fifthString:[],fourthString:[],thirdString:[2],secondStrind:[1],firstString:[2]}}},{id:"9",name:"Dm",startString:1,structure:{strings:{sixthString:[],fifthString:[],fourthString:[],thirdString:[2],secondStrind:[3],firstString:[1]}}},{id:"10",name:"E",startString:1,structure:{strings:{sixthString:[],fifthString:[2],fourthString:[2],thirdString:[1],secondStrind:[],firstString:[]}}},{id:"11",name:"E7",startString:1,structure:{strings:{sixthString:[],fifthString:[2],fourthString:[],thirdString:[1],secondStrind:[],firstString:[]}}},{id:"11",name:"Em",startString:1,structure:{strings:{sixthString:[],fifthString:[2],fourthString:[2],thirdString:[],secondStrind:[],firstString:[]}}},{id:"12",name:"G",startString:1,structure:{strings:{sixthString:[3],fifthString:[2],fourthString:[],thirdString:[],secondStrind:[],firstString:[3]}}},{id:"13",name:"G7",startString:1,structure:{strings:{sixthString:[3],fifthString:[2],fourthString:[],thirdString:[],secondStrind:[],firstString:[1]}}},{id:"14",name:"Gm",startString:2,structure:{strings:{sixthString:[2,5],fifthString:[2,5],fourthString:[2],thirdString:[2],secondStrind:[2],firstString:[2]}}},{id:"15",name:"A",startString:1,structure:{strings:{sixthString:[],fifthString:[],fourthString:[2],thirdString:[2],secondStrind:[2],firstString:[]}}},{id:"16",name:"A7",startString:1,structure:{strings:{sixthString:[],fifthString:[],fourthString:[2],thirdString:[],secondStrind:[2],firstString:[]}}},{id:"17",name:"Am",startString:1,structure:{strings:{sixthString:[],fifthString:[],fourthString:[2],thirdString:[2],secondStrind:[1],firstString:[]}}},{id:"18",name:"B",startString:2,structure:{strings:{sixthString:[2],fifthString:[2],fourthString:[2,4],thirdString:[2,4],secondStrind:[2,4],firstString:[2]}}},{id:"19",name:"Bm",startString:2,structure:{strings:{sixthString:[2],fifthString:[2],fourthString:[2,4],thirdString:[2,4],secondStrind:[2,3],firstString:[2]}}},{id:"20",name:"B7",startString:1,structure:{strings:{sixthString:[],fifthString:[2],fourthString:[1],thirdString:[2],secondStrind:[],firstString:[2]}}}]},{}],4:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ChordCreator=void 0;var e=t("./style.constant"),i=t("./attribute-getter"),s=t("./common-tools"),o=t("./canvas-draw-tool");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function u(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function h(t,n){return!n||"object"!==a(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function l(t){var n="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return f(t,arguments,g(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),d(e,t)})(t)}function f(t,n,r){return(f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,n,r){var e=[null];e.push.apply(e,n);var i=new(Function.bind.apply(t,e));return r&&d(i,r.prototype),i}).apply(null,arguments)}function d(t,n){return(d=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){function n(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=h(this,g(n).call(this))).attrGetter,t.canvasSettings={reflect:{horizontal:!1,vertical:!1}},t.customAttributes={chords:[],size:null,theme:"light"},t.initAll(),t}var r,a,f;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&d(t,n)}(n,l(HTMLElement)),r=n,(a=[{key:"initAll",value:function(){var t=this;this.id="single-chord-component-".concat((0,s.makeIdEnding)()),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML="<div>Loading data</div>",this.chordComponentRef=document.getElementById(this.id),this.attrGetter=new i.AttrGetter(this.chordComponentRef),this.attrGetter.resolveChordArray().length?(this.initAttributes(),this.shadowRoot.innerHTML=this.resolveFinalTemplate(),this.customAttributes.chords.map(function(n){var r=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},e=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.forEach(function(n){c(t,n,r[n])})}return t}({},t.customAttributes,{reflection:t.canvasSettings.reflect});new o.CanvasDrawTool(t.initCanvas(n),n,r).draw()})):this.shadowRoot.innerHTML="<div>Unknown chord</div>"}},{key:"initAttributes",value:function(){this.initChords(),this.initSize(),this.initTheme(),this.initReflectAttr()}},{key:"initSize",value:function(){this.customAttributes.size=this.attrGetter.resolveSize()}},{key:"initChords",value:function(){this.customAttributes.chords=this.attrGetter.resolveChordArray()}},{key:"initReflectAttr",value:function(){this.canvasSettings.reflect=this.attrGetter.resolveReflectAttr()}},{key:"initTheme",value:function(){this.customAttributes.theme=this.attrGetter.resolveTheme()}},{key:"initCanvas",value:function(t){var n={canvas:{},ctx:{}};return n.canvas=this.shadowRoot.getElementById(t.componentCanvasId),n.ctx=n.canvas?n.canvas.getContext("2d"):null,n}},{key:"getCommonTemplete",value:function(t,n){return'\n    <div class="main-container">\n        <div class="accord-description">\n            <div class="description-element">\n                '.concat(t.name,'\n            </div>\n            <div class="description-element row-number-container">\n                ').concat(t.startString,"\n                </div>\n        </div>\n        <canvas id=").concat(n,'\n            class="canvas-style"\n            width=').concat(this.canvasSettings.canvasWidth,"\n            height=").concat(this.canvasSettings.canvasHeight,"/>\n    </div>                                    \n    ")}},{key:"resolveFinalTemplate",value:function(){var t=this,n="<style>\n    .accord-description {\n        display: flex;\n        justify-content: space-between;\n        border: solid ".concat(e.styleConstants.colors.borderColor[this.customAttributes.theme]," 1px;\n        border-bottom: none;\n        font-size: ").concat(e.styleConstants.fontSize.normal*this.customAttributes.size,"px;\n        color: ").concat(e.styleConstants.colors.textColor[this.customAttributes.theme],";\n        background-color: ").concat(e.styleConstants.colors.backgroundColor[this.customAttributes.theme],";\n    }\n    .description-element {\n        display: inline-block;\n        width: 50%;\n        padding-top: 2px;\n        padding-left: 5px;\n    }\n        .row-number-container {\n        display: inline-block;\n        text-align: right;\n        padding-right: 13px;\n    }\n    .main-container {\n        width: auto;\n        display: inline-block;\n        margin: 20px;\n        color: ").concat(e.styleConstants.colors.borderColor[this.customAttributes.theme],";\n    }\n    .canvas-style {\n        border: solid ").concat(e.styleConstants.colors.borderColor[this.customAttributes.theme]," 1px;\n        border-top: none;\n    }\n</style>"),r="";return this.customAttributes.chords.map(function(n){r+=t.getCommonTemplete(n,n.componentCanvasId)}),r+n}}])&&u(r.prototype,a),f&&u(r,f),n}();r.ChordCreator=v},{"./attribute-getter":1,"./canvas-draw-tool":2,"./common-tools":5,"./style.constant":7}],5:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.makeIdEnding=function(){for(var t="-",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<5;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return(new Date).getTime()+t}},{}],6:[function(t,n,r){"use strict";var e=t("./chord");customElements.define("chord-creator",e.ChordCreator)},{"./chord":4}],7:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sizeList=r.styleConstants=void 0;r.sizeList={medium:1,large:2,small:.9};r.styleConstants={fontSize:{normal:14},colors:{circleColor:{dark:"#FFFFFF",light:"#000000"},basisColor:{dark:"#795548",light:"#E5CE8C"},stringsColor:{dark:"#cddc39",light:"#6D5454"},rowDividerColor:{dark:"#000000",light:"#FFFFFF"},borderColor:{dark:"#FFFFFF",light:"#000000"},textColor:{dark:"#FFFFFF",light:"#000000"},backgroundColor:{dark:"#000000",light:"#FFFFFF"}}}},{}]},{},[6]);